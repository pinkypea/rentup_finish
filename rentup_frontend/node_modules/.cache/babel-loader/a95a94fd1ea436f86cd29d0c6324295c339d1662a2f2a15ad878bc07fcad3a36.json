{"ast":null,"code":"import _slicedToArray from\"D:/rentup/rentup_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import classes from\"./RoomCard.module.css\";import{useContext,useState}from\"react\";import{Link}from\"react-router-dom\";import{deleteRoom,postRoom}from'../../../../api/RoomApi';import AuthContext from'../../../../store/auth-context';import Popup from\"../../common/Popup/Popup\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RoomCard=function RoomCard(props){var authCtx=useContext(AuthContext);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),popup=_useState2[0],setPopup=_useState2[1];var deleteHandler=function deleteHandler(){deleteRoom(props.item.id,authCtx.token).then(function(data){setPopup(true);}).catch(function(err){alert(err.message);});};var postHandler=function postHandler(){postRoom(props.item.id,authCtx.token).then(function(data){setPopup(true);}).catch(function(err){alert(err.message);});};var reloadPage=function reloadPage(){window.location.reload();};return/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(classes.shadow,\" \").concat(classes.roomCard),children:[/*#__PURE__*/_jsx(\"div\",{className:classes.img,children:/*#__PURE__*/_jsx(\"img\",{src:props.item.cover,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.text,children:[/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(classes.category,\" \").concat(classes.flex),children:/*#__PURE__*/_jsx(\"span\",{style:{background:\"#ff98001a\",color:\"#ff9800\"},children:props.item.active?\"active\":\"inactive\"})}),/*#__PURE__*/_jsx(\"h4\",{children:props.item.category}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-info\"}),\" Info: \",props.item.detail]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-chart-area\"}),\" Area: \",props.item.area,\" m^2\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-money-check\"}),\" Rent price: \",props.item.rent_price,\"\\u0111 / month\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-money-check\"}),\" Water price: \",props.item.water_price,\"\\u0111 / month\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-money-check\"}),\" Electricity price: \",props.item.electricity_price,\"\\u0111 / month\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-money-check\"}),\" Services price: \",props.item.service_price,\"\\u0111 / month\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-money-check\"}),\" Total price: \",props.item.totalPrice,\"\\u0111 / month\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(classes.button,\" \").concat(classes.flex),children:/*#__PURE__*/_jsx(\"button\",{className:classes.postRoom,onClick:postHandler,disabled:props.item.active,children:\"Post\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(classes.button,\" \").concat(classes.flex),children:/*#__PURE__*/_jsx(Link,{className:classes.editRoom,to:\"/room/\".concat(props.item.id,\"/edit\"),children:\"Edit\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(classes.button,\" \").concat(classes.flex),children:/*#__PURE__*/_jsx(\"button\",{className:classes.btn3,onClick:deleteHandler,children:\"Delete\"})}),/*#__PURE__*/_jsxs(Popup,{trigger:popup,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Successfully\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Your room has been updated.\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:reloadPage,children:\"Ok\"})]})]},props.item.index);};export default RoomCard;","map":{"version":3,"names":["classes","useContext","useState","Link","deleteRoom","postRoom","AuthContext","Popup","RoomCard","props","authCtx","popup","setPopup","deleteHandler","item","id","token","then","data","catch","err","alert","message","postHandler","reloadPage","window","location","reload","shadow","roomCard","img","cover","text","category","flex","background","color","active","detail","area","rent_price","water_price","electricity_price","service_price","totalPrice","button","editRoom","btn3","index"],"sources":["D:/rentup/rentup_frontend/src/core/components/ManagePage/Room/RoomCard.js"],"sourcesContent":["import classes from \"./RoomCard.module.css\"\r\nimport { useContext, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { deleteRoom, postRoom } from '../../../../api/RoomApi';\r\nimport AuthContext from '../../../../store/auth-context';\r\nimport Popup from \"../../common/Popup/Popup\"\r\n\r\nconst RoomCard = props => {\r\n    const authCtx = useContext(AuthContext)\r\n    \r\n    const [popup, setPopup] = useState(false)\r\n    \r\n    const deleteHandler = () => {\r\n        deleteRoom(props.item.id, authCtx.token)\r\n        .then((data) => {\r\n            setPopup(true)\r\n        })\r\n        .catch((err) => {\r\n            alert(err.message);\r\n        });\r\n    }\r\n    \r\n    const postHandler = () => {\r\n        postRoom(props.item.id, authCtx.token)\r\n        .then((data) => {\r\n            setPopup(true)\r\n        })\r\n        .catch((err) => {\r\n            alert(err.message);\r\n        });\r\n    }\r\n    \r\n    const reloadPage = () => {\r\n        window.location.reload();\r\n    }\r\n    \r\n    return (\r\n        <div className={`${classes.shadow} ${classes.roomCard}`} key={props.item.index}>\r\n            <div className={classes.img}>\r\n                <img src={props.item.cover} alt='' />\r\n            </div>\r\n            <div className={classes.text}>\r\n                <div className={`${classes.category} ${classes.flex}`}>\r\n                    <span style={{ background: \"#ff98001a\", color: \"#ff9800\" }}>{props.item.active ? \"active\" : \"inactive\"}</span>\r\n                </div>\r\n                <h4>{props.item.category}</h4>\r\n                <p>\r\n                    <i class=\"fa fa-info\"></i> Info: {props.item.detail}\r\n                </p>\r\n                <p>\r\n                    <i class=\"fa fa-chart-area\"></i> Area: {props.item.area} m^2\r\n                </p>\r\n                <p>\r\n                    <i class=\"fa fa-money-check\"></i> Rent price: {props.item.rent_price}đ / month\r\n                </p>\r\n                <p>\r\n                    <i class=\"fa fa-money-check\"></i> Water price: {props.item.water_price}đ / month\r\n                </p>\r\n                <p>\r\n                    <i class=\"fa fa-money-check\"></i> Electricity price: {props.item.electricity_price}đ / month\r\n                </p>\r\n                <p>\r\n                    <i class=\"fa fa-money-check\"></i> Services price: {props.item.service_price}đ / month\r\n                </p>\r\n                <p>\r\n                    <i class=\"fa fa-money-check\"></i> Total price: {props.item.totalPrice}đ / month\r\n                </p>\r\n            </div>\r\n            <div className={`${classes.button} ${classes.flex}`}>\r\n                <button className={classes.postRoom} onClick={postHandler} disabled={props.item.active}>Post</button>\r\n            </div>\r\n            <div className={`${classes.button} ${classes.flex}`}>\r\n                <Link className={classes.editRoom} to={`/room/${props.item.id}/edit`}>Edit</Link>\r\n            </div>\r\n            <div className={`${classes.button} ${classes.flex}`}>\r\n                <button className={classes.btn3} onClick={deleteHandler}>Delete</button>\r\n            </div>\r\n            <Popup trigger={popup}>\r\n                <h3>Successfully</h3>\r\n                <p>Your room has been updated.</p>\r\n                <button type=\"button\" onClick={reloadPage}>Ok</button>\r\n            </Popup>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RoomCard"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}