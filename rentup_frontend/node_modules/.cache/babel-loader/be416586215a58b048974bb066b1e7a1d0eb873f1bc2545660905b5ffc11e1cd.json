{"ast":null,"code":"import _slicedToArray from\"D:/rentup/rentup_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useEffect,useState}from\"react\";import{useParams}from'react-router-dom';import{getAllConfirmRequestFromTenant}from\"../../../../api/RentRequestApi\";import img from\"../../../../assets/img/backgroundPost.jpg\";import AuthContext from'../../../../store/auth-context';import Back from\"../../common/Back/Back\";import classes from\"./ManageRent.module.css\";import RoomCard from\"./RentCard\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ManagerRent=function ManagerRent(){var params=useParams();var id=params.id;var authCtx=useContext(AuthContext);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rooms=_useState2[0],setRooms=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),nextLink=_useState4[0],setNextLink=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),prevLink=_useState6[0],setPrevLink=_useState6[1];useEffect(function(){getAllConfirmRequestFromTenant(authCtx.token).then(function(data){console.log(data);var tempData=[];data.results.forEach(function(item){tempData.push({id:item.room.id,cover:item.room.image,location:\"\".concat(item.room.city,\" - \").concat(item.room.district,\" - \").concat(item.room.ward),category:item.room.category.name,status:item.room.status,active:item.room.active,detail:item.room.detail,area:item.room.area,rent_price:item.room.rentPrice,water_price:item.room.waterPrice,electricity_price:item.room.electricPrice,service_price:item.room.servicePrice,totalPrice:item.room.totalPrice,expriedAt:item.expires_at.substring(0,10)});});setRooms(tempData);setNextLink(data.next);setPrevLink(data.previous);}).catch(function(err){alert(err.message);});},[]);var handlePagination=function handlePagination(url){try{axios.get(url,{headers:{\"Authorization\":\"Bearer \".concat(authCtx.token)}}).then(function(response){var temp=[];response.data.results.forEach(function(item){temp.push({id:item.room.id,cover:item.room.image,location:\"\".concat(item.room.city,\" - \").concat(item.room.district,\" - \").concat(item.room.ward),category:item.room.category.name,status:item.room.status,active:item.room.active,detail:item.room.detail,area:item.room.area,rent_price:item.room.rentPrice,water_price:item.room.waterPrice,electricity_price:item.room.electricPrice,service_price:item.room.servicePrice,totalPrice:item.room.totalPrice,expriedAt:item.expires_at.substring(0,10)});});setRooms(temp);setNextLink(response.data.next);setPrevLink(response.data.previous);});}catch(e){console.log(e);}};return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(Back,{name:\"Room\",title:\"Room Grid - Our Rooms\",cover:img}),/*#__PURE__*/_jsx(\"section\",{className:\"\".concat(classes.recent,\" \").concat(classes.padding),children:/*#__PURE__*/_jsxs(\"div\",{className:classes.container,children:[/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(classes.grid3,\" \").concat(classes.mtop),children:rooms.map(function(item,index){return/*#__PURE__*/_jsx(RoomCard,{item:item,index:index});})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.paginations,children:[prevLink&&/*#__PURE__*/_jsx(\"button\",{className:classes.previous,onClick:function onClick(){return handlePagination(prevLink);},children:\"Previous\"}),nextLink&&/*#__PURE__*/_jsx(\"button\",{className:classes.next,onClick:function onClick(){return handlePagination(nextLink);},children:\"Next\"})]})]})})]});};export default ManagerRent;","map":{"version":3,"names":["useContext","useEffect","useState","useParams","getAllConfirmRequestFromTenant","img","AuthContext","Back","classes","RoomCard","axios","ManagerRent","params","id","authCtx","rooms","setRooms","nextLink","setNextLink","prevLink","setPrevLink","token","then","data","console","log","tempData","results","forEach","item","push","room","cover","image","location","city","district","ward","category","name","status","active","detail","area","rent_price","rentPrice","water_price","waterPrice","electricity_price","electricPrice","service_price","servicePrice","totalPrice","expriedAt","expires_at","substring","next","previous","catch","err","alert","message","handlePagination","url","get","headers","response","temp","e","recent","padding","container","grid3","mtop","map","index","paginations"],"sources":["D:/rentup/rentup_frontend/src/core/components/ManagePage/Rent/ManageRent.js"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\";\r\nimport { useParams } from 'react-router-dom';\r\nimport { getAllConfirmRequestFromTenant } from \"../../../../api/RentRequestApi\";\r\nimport img from \"../../../../assets/img/backgroundPost.jpg\";\r\nimport AuthContext from '../../../../store/auth-context';\r\nimport Back from \"../../common/Back/Back\";\r\nimport classes from \"./ManageRent.module.css\";\r\nimport RoomCard from \"./RentCard\";\r\nimport axios from \"axios\"\r\n\r\nconst ManagerRent = () => {\r\n    const params = useParams()\r\n\r\n    const id = params.id\r\n    \r\n    const authCtx = useContext(AuthContext)\r\n    \r\n    const [rooms, setRooms] = useState([])\r\n    const [nextLink, setNextLink] = useState()\r\n    const [prevLink, setPrevLink] = useState()\r\n    \r\n    useEffect(() => {\r\n        getAllConfirmRequestFromTenant(authCtx.token)\r\n        .then((data) => {\r\n            console.log(data)\r\n            const tempData = []\r\n            data.results.forEach(item => {\r\n                tempData.push({\r\n                    id: item.room.id,\r\n                    cover: item.room.image,\r\n                    location: `${item.room.city} - ${item.room.district} - ${item.room.ward}`,\r\n                    category: item.room.category.name,\r\n                    status: item.room.status,\r\n                    active: item.room.active,\r\n                    detail: item.room.detail,\r\n                    area: item.room.area,\r\n                    rent_price: item.room.rentPrice,\r\n                    water_price: item.room.waterPrice,\r\n                    electricity_price: item.room.electricPrice,\r\n                    service_price: item.room.servicePrice,\r\n                    totalPrice: item.room.totalPrice,\r\n                    expriedAt: item.expires_at.substring(0, 10)\r\n                })\r\n            })\r\n            setRooms(tempData)\r\n            setNextLink(data.next)\r\n            setPrevLink(data.previous)\r\n        })\r\n        .catch((err) => {\r\n                alert(err.message);\r\n        });\r\n    }, [])\r\n    \r\n    const handlePagination = (url) => {\r\n        try{\r\n            axios.get(url, {\r\n                headers: {\r\n                    \"Authorization\": `Bearer ${authCtx.token}`\r\n                }\r\n            })\r\n            .then((response) =>{\r\n                const temp = []\r\n                response.data.results.forEach(item => {\r\n                    temp.push({\r\n                        id: item.room.id,\r\n                        cover: item.room.image,\r\n                        location: `${item.room.city} - ${item.room.district} - ${item.room.ward}`,\r\n                        category: item.room.category.name,\r\n                        status: item.room.status,\r\n                        active: item.room.active,\r\n                        detail: item.room.detail,\r\n                        area: item.room.area,\r\n                        rent_price: item.room.rentPrice,\r\n                        water_price: item.room.waterPrice,\r\n                        electricity_price: item.room.electricPrice,\r\n                        service_price: item.room.servicePrice,\r\n                        totalPrice: item.room.totalPrice,\r\n                        expriedAt: item.expires_at.substring(0, 10)\r\n                    })\r\n                })\r\n                setRooms(temp)\r\n                setNextLink(response.data.next)\r\n                setPrevLink(response.data.previous)\r\n            })\r\n        }\r\n        catch(e){\r\n            console.log(e)\r\n        }\r\n    }\r\n  \r\n    return (\r\n        <section>\r\n            <Back name='Room' title='Room Grid - Our Rooms' cover={img}/>\r\n            <section className={`${classes.recent} ${classes.padding}`}>\r\n                <div className={classes.container}>\r\n                    <div className={`${classes.grid3} ${classes.mtop}`}>\r\n                        {rooms.map((item, index) => <RoomCard item={item} index={index}/>)}\r\n                    </div>\r\n                    <div className={classes.paginations}>\r\n                        {prevLink && <button className={classes.previous} onClick={()=>handlePagination(prevLink)}>Previous</button>}\r\n                        {nextLink && <button className={classes.next} onClick={()=>handlePagination(nextLink)}>Next</button>}\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default ManagerRent;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}