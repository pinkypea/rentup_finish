{"ast":null,"code":"var _jsxFileName = \"D:\\\\rentup\\\\rentup_frontend\\\\src\\\\core\\\\components\\\\RentRegisterPage\\\\RentRegisterPage.js\",\n  _s = $RefreshSig$();\nimport Page from \"../common/Page\";\nimport classes from \"./RentRegisterPage.module.css\";\nimport RecentCard from \"../HomePage/Recent/RecentCard\";\nimport LandlordCard from \"../HomePage/landlord/LandlordCard\";\nimport Back from \"../common/Back/Back\";\nimport { getRoomByRoomId } from \"../../../api/RoomApi\";\nimport { createRentRequest } from \"../../../api/RentRequestApi\";\nimport { useState, useEffect, useContext, useRef } from \"react\";\nimport AuthContext from '../../../store/auth-context';\nimport { useParams } from 'react-router-dom';\nimport img from \"../../../assets/img/backgroundPost.jpg\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RentRegisterPage = () => {\n  _s();\n  const history = useHistory();\n  const params = useParams();\n  const id = params.id;\n  const authCtx = useContext(AuthContext);\n  const [post, setPost] = useState({});\n  const [landlord, setLandlord] = useState({});\n  const messageInputRef = useRef();\n  useEffect(() => {\n    getRoomByRoomId(id).then(data => {\n      setPost({\n        room_id: data.id,\n        room_name: data.name,\n        cover: data.image,\n        category: data.category.name,\n        city: data.house.city,\n        district: data.house.district,\n        ward: data.house.ward,\n        totalPrice: data.totalPrice\n      });\n      setLandlord({\n        cover: data.house.landlord.image,\n        name: data.house.landlord.username,\n        address: data.house.landlord.city + ' - ' + data.house.landlord.district + ' - ' + data.house.landlord.ward,\n        phone: data.house.landlord.phone,\n        linkfb: data.house.landlord.linkfb,\n        linkin: data.house.landlord.linkin,\n        linktw: data.house.landlord.linktw,\n        linkli: data.house.landlord.linkli\n      });\n    }).catch(err => {\n      alert(err.message);\n    });\n  }, []);\n  const sendRequest = () => {\n    const data = {\n      room: id,\n      message: messageInputRef.current.value\n    };\n    createRentRequest(data, authCtx.token).then(data => {\n      history.replace(\"/manage/your_request\");\n    }).catch(err => {\n      alert(err.message);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Page, {\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(Back, {\n        name: \"Rent Register\",\n        title: \"Your Rent Register\",\n        cover: img\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: `${classes.recent} ${classes.padding}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.container,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${classes.grid1} ${classes.mtop}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `${classes.shadow} ${classes.rentRequestCard}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.rentRequestCard_info,\n                children: [/*#__PURE__*/_jsxDEV(RecentCard, {\n                  item: post\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(LandlordCard, {\n                  item: landlord\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.rentRequestCard_message,\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: \"Message:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  type: \"text\",\n                  ref: messageInputRef\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `${classes.rentRequestCard_action}`,\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: sendRequest,\n                  children: \"Send\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 33\n              }, this)]\n            }, id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Popup, {\n      trigger: popup,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: popupTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: popupDetail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: goBackPage,\n        children: \"Ok\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n};\n_s(RentRegisterPage, \"itN8sXf8izjqMRmZ3mSl1m2n9Rs=\", false, function () {\n  return [useHistory, useParams];\n});\n_c = RentRegisterPage;\nexport default RentRegisterPage;\nvar _c;\n$RefreshReg$(_c, \"RentRegisterPage\");","map":{"version":3,"names":["Page","classes","RecentCard","LandlordCard","Back","getRoomByRoomId","createRentRequest","useState","useEffect","useContext","useRef","AuthContext","useParams","img","useHistory","RentRegisterPage","history","params","id","authCtx","post","setPost","landlord","setLandlord","messageInputRef","then","data","room_id","room_name","name","cover","image","category","city","house","district","ward","totalPrice","username","address","phone","linkfb","linkin","linktw","linkli","catch","err","alert","message","sendRequest","room","current","value","token","replace","recent","padding","container","grid1","mtop","shadow","rentRequestCard","rentRequestCard_info","rentRequestCard_message","rentRequestCard_action","popup","popupTitle","popupDetail","goBackPage"],"sources":["D:/rentup/rentup_frontend/src/core/components/RentRegisterPage/RentRegisterPage.js"],"sourcesContent":["import Page from \"../common/Page\"\r\nimport classes from \"./RentRegisterPage.module.css\"\r\nimport RecentCard from \"../HomePage/Recent/RecentCard\";\r\nimport LandlordCard from \"../HomePage/landlord/LandlordCard\"\r\nimport Back from \"../common/Back/Back\"\r\nimport {getRoomByRoomId} from \"../../../api/RoomApi\"\r\nimport {createRentRequest} from \"../../../api/RentRequestApi\"\r\nimport { useState, useEffect, useContext, useRef } from \"react\"\r\nimport AuthContext from '../../../store/auth-context';\r\nimport { useParams } from 'react-router-dom';\r\nimport img from \"../../../assets/img/backgroundPost.jpg\"\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nconst RentRegisterPage = () => {\r\n    const history = useHistory()\r\n    \r\n    const params = useParams()\r\n\r\n    const id = params.id\r\n    \r\n    const authCtx = useContext(AuthContext)\r\n    \r\n    const [post, setPost] = useState({})\r\n    const [landlord, setLandlord] = useState({})\r\n    const messageInputRef = useRef()\r\n    \r\n    useEffect(() => {\r\n        getRoomByRoomId(id)\r\n        .then((data) => {\r\n            setPost({\r\n                room_id: data.id,\r\n                room_name: data.name,\r\n                cover: data.image,\r\n                category: data.category.name,\r\n                city: data.house.city,\r\n                district: data.house.district,\r\n                ward: data.house.ward,\r\n                totalPrice: data.totalPrice\r\n            })\r\n            setLandlord({\r\n                cover: data.house.landlord.image,\r\n                name: data.house.landlord.username,\r\n                address: data.house.landlord.city + ' - ' + data.house.landlord.district + ' - ' + data.house.landlord.ward,\r\n                phone: data.house.landlord.phone,\r\n                linkfb: data.house.landlord.linkfb,\r\n                linkin: data.house.landlord.linkin,\r\n                linktw: data.house.landlord.linktw,\r\n                linkli: data.house.landlord.linkli,\r\n            })\r\n        })\r\n        .catch((err) => {\r\n                alert(err.message);\r\n        });\r\n    }, [])\r\n    \r\n    const sendRequest = () => {\r\n        const data = {\r\n            room: id,\r\n            message: messageInputRef.current.value,\r\n        }\r\n        \r\n        createRentRequest(data, authCtx.token)\r\n        .then(data => {\r\n            history.replace(\"/manage/your_request\")\r\n        })\r\n        .catch((err) => {\r\n            alert(err.message);\r\n        });\r\n    }\r\n    \r\n    return (\r\n        <Page>\r\n            <section>\r\n                <Back name='Rent Register' title='Your Rent Register' cover={img}/>\r\n                <section className={`${classes.recent} ${classes.padding}`}>\r\n                    <div className={classes.container}>\r\n                        <div className={`${classes.grid1} ${classes.mtop}`}>\r\n                            <div className={`${classes.shadow} ${classes.rentRequestCard}`} key={id}>\r\n                                <div className={classes.rentRequestCard_info}>\r\n                                    <RecentCard item={post}/>\r\n                                    <LandlordCard item={landlord}/>\r\n                                </div>\r\n                                <div className={classes.rentRequestCard_message}>\r\n                                    <h2>Message:</h2>\r\n                                    <textarea type=\"text\" ref={messageInputRef}/>\r\n                                </div>\r\n                                <div className={`${classes.rentRequestCard_action}`}>\r\n                                    <button onClick={sendRequest}>Send</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </section>\r\n            <Popup trigger={popup}>\r\n                <h3>{popupTitle}</h3>\r\n                <p>{popupDetail}</p>\r\n                <button type=\"button\" onClick={goBackPage}>Ok</button>\r\n            </Popup>\r\n        </Page>\r\n    )\r\n}\r\n\r\nexport default RentRegisterPage"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}