{"ast":null,"code":"import _slicedToArray from\"D:/rentup/rentup_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Back from\"../../common/Back/Back\";import img from\"../../../../assets/img/backgroundPost.jpg\";import classes from\"./YourRequest.module.css\";import YourRequestCard from\"./YourRequestCard\";import{useState,useEffect,useContext}from\"react\";import AuthContext from'../../../../store/auth-context';import{getAllRentRequestFromTenant}from\"../../../../api/RentRequestApi\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ManagerHouse=function ManagerHouse(){var authCtx=useContext(AuthContext);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),requests=_useState2[0],setRequests=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),nextLink=_useState4[0],setNextLink=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),prevLink=_useState6[0],setPrevLink=_useState6[1];useEffect(function(){getAllRentRequestFromTenant(authCtx.token).then(function(data){var tempData=[];data.results.forEach(function(item){tempData.push({room:{room_id:item.room.id,room_name:item.room.name,cover:item.room.image,category:item.room.category.name,city:item.room.house.city,district:item.room.house.district,ward:item.room.house.ward,totalPrice:item.room.totalPrice},landlord:{name:item.landlord.username,cover:item.landlord.image,address:item.landlord.city+' - '+item.landlord.district+' - '+item.landlord.ward,linkfb:item.landlord.linkfb,linkin:item.landlord.linkin,linktw:item.landlord.linktw,linkli:item.landlord.linkli},message:item.message,id:item.id});});setRequests(tempData);setNextLink(data.next);setPrevLink(data.previous);}).catch(function(err){alert(err.message);});},[]);var handlePagination=function handlePagination(url){try{axios.get(url,{headers:{\"Authorization\":\"Bearer \".concat(authCtx.token)}}).then(function(response){var temp=[];response.data.results.forEach(function(item){temp.push({room:{room_id:item.room.id,room_name:item.room.name,cover:item.room.image,category:item.room.category.name,city:item.room.house.city,district:item.room.house.district,ward:item.room.house.ward,totalPrice:item.room.totalPrice},landlord:{name:item.landlord.username,cover:item.landlord.image,address:item.landlord.city+' - '+item.landlord.district+' - '+item.landlord.ward,linkfb:item.landlord.linkfb,linkin:item.landlord.linkin,linktw:item.landlord.linktw,linkli:item.landlord.linkli},message:item.message,id:item.id});});setRequests(temp);setNextLink(response.data.next);setPrevLink(response.data.previous);});}catch(e){console.log(e);}};return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(Back,{name:\"Rent Request\",title:\"Your Rent Request\",cover:img}),/*#__PURE__*/_jsx(\"section\",{className:\"\".concat(classes.recent,\" \").concat(classes.padding),children:/*#__PURE__*/_jsxs(\"div\",{className:classes.container,children:[/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(classes.grid1,\" \").concat(classes.mtop),children:requests.map(function(item,index){return/*#__PURE__*/_jsx(YourRequestCard,{item:item,index:index});})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.paginations,children:[prevLink&&/*#__PURE__*/_jsx(\"button\",{className:classes.previous,onClick:function onClick(){return handlePagination(prevLink);},children:\"Previous\"}),nextLink&&/*#__PURE__*/_jsx(\"button\",{className:classes.next,onClick:function onClick(){return handlePagination(nextLink);},children:\"Next\"})]})]})})]});};export default ManagerHouse;","map":{"version":3,"names":["Back","img","classes","YourRequestCard","useState","useEffect","useContext","AuthContext","getAllRentRequestFromTenant","axios","ManagerHouse","authCtx","requests","setRequests","nextLink","setNextLink","prevLink","setPrevLink","token","then","data","tempData","results","forEach","item","push","room","room_id","id","room_name","name","cover","image","category","city","house","district","ward","totalPrice","landlord","username","address","linkfb","linkin","linktw","linkli","message","next","previous","catch","err","alert","handlePagination","url","get","headers","response","temp","e","console","log","recent","padding","container","grid1","mtop","map","index","paginations"],"sources":["D:/rentup/rentup_frontend/src/core/components/ManagePage/YourRequest/YourRequest.js"],"sourcesContent":["import Back from \"../../common/Back/Back\"\r\nimport img from \"../../../../assets/img/backgroundPost.jpg\"\r\nimport classes from \"./YourRequest.module.css\"\r\nimport YourRequestCard from \"./YourRequestCard\"\r\nimport { useState, useEffect, useContext } from \"react\"\r\nimport AuthContext from '../../../../store/auth-context';\r\nimport {getAllRentRequestFromTenant} from \"../../../../api/RentRequestApi\"\r\nimport axios from \"axios\"\r\n\r\nconst ManagerHouse = () => {\r\n    const authCtx = useContext(AuthContext)\r\n    \r\n    const [requests, setRequests] = useState([])\r\n    const [nextLink, setNextLink] = useState()\r\n    const [prevLink, setPrevLink] = useState()\r\n    \r\n    useEffect(() => {\r\n        getAllRentRequestFromTenant(authCtx.token)\r\n        .then((data) => {\r\n            const tempData = []\r\n            data.results.forEach(item => {\r\n                tempData.push({\r\n                    room: {\r\n                        room_id: item.room.id,\r\n                        room_name: item.room.name,\r\n                        cover: item.room.image,\r\n                        category: item.room.category.name,\r\n                        city: item.room.house.city,\r\n                        district: item.room.house.district,\r\n                        ward: item.room.house.ward,\r\n                        totalPrice: item.room.totalPrice\r\n                    },\r\n                    landlord: {\r\n                        name: item.landlord.username,\r\n                        cover: item.landlord.image,\r\n                        address: item.landlord.city + ' - ' + item.landlord.district + ' - ' + item.landlord.ward,\r\n                        linkfb: item.landlord.linkfb,\r\n                        linkin: item.landlord.linkin,\r\n                        linktw: item.landlord.linktw,\r\n                        linkli: item.landlord.linkli,\r\n                    },\r\n                    message: item.message,\r\n                    id: item.id,\r\n                })\r\n            })\r\n            setRequests(tempData)\r\n            setNextLink(data.next)\r\n            setPrevLink(data.previous)\r\n        })\r\n        .catch((err) => {\r\n                alert(err.message);\r\n        });\r\n    }, [])\r\n    \r\n    const handlePagination = (url) => {\r\n        try{\r\n            axios.get(url, {\r\n                headers: {\r\n                    \"Authorization\": `Bearer ${authCtx.token}`\r\n                }\r\n            })\r\n            .then((response) =>{\r\n                const temp = []\r\n                response.data.results.forEach(item => {\r\n                    temp.push({\r\n                        room: {\r\n                            room_id: item.room.id,\r\n                            room_name: item.room.name,\r\n                            cover: item.room.image,\r\n                            category: item.room.category.name,\r\n                            city: item.room.house.city,\r\n                            district: item.room.house.district,\r\n                            ward: item.room.house.ward,\r\n                            totalPrice: item.room.totalPrice\r\n                        },\r\n                        landlord: {\r\n                            name: item.landlord.username,\r\n                            cover: item.landlord.image,\r\n                            address: item.landlord.city + ' - ' + item.landlord.district + ' - ' + item.landlord.ward,\r\n                            linkfb: item.landlord.linkfb,\r\n                            linkin: item.landlord.linkin,\r\n                            linktw: item.landlord.linktw,\r\n                            linkli: item.landlord.linkli,\r\n                        },\r\n                        message: item.message,\r\n                        id: item.id,\r\n                    })\r\n                })\r\n                setRequests(temp)\r\n                setNextLink(response.data.next)\r\n                setPrevLink(response.data.previous)\r\n            })\r\n        }\r\n        catch(e){\r\n            console.log(e)\r\n        }\r\n    }\r\n  \r\n    return (\r\n        <section>\r\n            <Back name='Rent Request' title='Your Rent Request' cover={img}/>\r\n            <section className={`${classes.recent} ${classes.padding}`}>\r\n                <div className={classes.container}>\r\n                    <div className={`${classes.grid1} ${classes.mtop}`}>\r\n                        {requests.map((item, index) => <YourRequestCard item={item} index={index}/>)}\r\n                    </div>\r\n                    <div className={classes.paginations}>\r\n                        {prevLink && <button className={classes.previous} onClick={()=>handlePagination(prevLink)}>Previous</button>}\r\n                        {nextLink && <button className={classes.next} onClick={()=>handlePagination(nextLink)}>Next</button>}\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default ManagerHouse;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}