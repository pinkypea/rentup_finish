{"ast":null,"code":"import _slicedToArray from\"D:/rentup/rentup_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Heading from\"../../common/Heading/Heading\";import RecentCard from\"./RecentCard\";import classes from\"./Recent.module.css\";import{useState,useEffect}from\"react\";import{getAllRoomAvailable}from'../../../../api/RoomApi';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Recent=function Recent(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),nextLink=_useState4[0],setNextLink=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),prevLink=_useState6[0],setPrevLink=_useState6[1];useEffect(function(){getAllRoomAvailable(props.filter).then(function(data){var temp=[];data.results.forEach(function(data){temp.push({room_id:data.id,room_name:data.name,cover:data.image,category:data.category.name,city:data.house.city,district:data.house.district,ward:data.house.ward,totalPrice:data.totalPrice});});setData(temp);setNextLink(data.next);setPrevLink(data.previous);}).catch(function(err){alert(err.message);});},[props.filter]);var handlePagination=function handlePagination(url){try{axios.get(url).then(function(response){var temp=[];response.data.results.forEach(function(data){temp.push({room_id:data.id,room_name:data.name,cover:data.image,category:data.category.name,city:data.house.city,district:data.house.district,ward:data.house.ward,totalPrice:data.totalPrice});});setData(temp);setNextLink(response.data.next);setPrevLink(response.data.previous);});}catch(e){console.log(e);}};return/*#__PURE__*/_jsx(\"section\",{className:\"\".concat(classes.recent,\" \").concat(classes.padding),children:/*#__PURE__*/_jsxs(\"div\",{className:classes.container,children:[/*#__PURE__*/_jsx(Heading,{title:\"Recent Property Listed\",subtitle:\"Find new & featured property located in your local city.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(classes.grid3,\" \").concat(classes.mtop),children:data.map(function(item,index){return/*#__PURE__*/_jsx(RecentCard,{item:item,index:index});})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.paginations,children:[prevLink&&/*#__PURE__*/_jsx(\"button\",{className:classes.previous,onClick:function onClick(){return handlePagination(prevLink);},children:\"Previous\"}),nextLink&&/*#__PURE__*/_jsx(\"button\",{className:classes.next,onClick:function onClick(){return handlePagination(nextLink);},children:\"Next\"})]})]})});};export default Recent;","map":{"version":3,"names":["Heading","RecentCard","classes","useState","useEffect","getAllRoomAvailable","axios","Recent","props","data","setData","nextLink","setNextLink","prevLink","setPrevLink","filter","then","temp","results","forEach","push","room_id","id","room_name","name","cover","image","category","city","house","district","ward","totalPrice","next","previous","catch","err","alert","message","handlePagination","url","get","response","e","console","log","recent","padding","container","grid3","mtop","map","item","index","paginations"],"sources":["D:/rentup/rentup_frontend/src/core/components/HomePage/Recent/Recent.js"],"sourcesContent":["import Heading from \"../../common/Heading/Heading\"\r\nimport RecentCard from \"./RecentCard\"\r\nimport classes from \"./Recent.module.css\"\r\nimport {useState, useEffect} from \"react\"\r\nimport {getAllRoomAvailable} from '../../../../api/RoomApi'\r\nimport axios from \"axios\"\r\n\r\nconst Recent = (props) => {\r\n    const [data, setData] = useState([])\r\n    const [nextLink, setNextLink] = useState()\r\n    const [prevLink, setPrevLink] = useState()\r\n    \r\n    useEffect(() => {\r\n        getAllRoomAvailable(props.filter)\r\n        .then((data) => {\r\n            const temp = []\r\n            data.results.forEach(data => {\r\n                temp.push({\r\n                    room_id: data.id,\r\n                    room_name: data.name,\r\n                    cover: data.image,\r\n                    category: data.category.name,\r\n                    city: data.house.city,\r\n                    district: data.house.district,\r\n                    ward: data.house.ward,\r\n                    totalPrice: data.totalPrice\r\n                })\r\n            })\r\n            setData(temp)\r\n            setNextLink(data.next)\r\n            setPrevLink(data.previous)\r\n        })\r\n        .catch((err) => {\r\n            alert(err.message);\r\n        });\r\n    }, [props.filter])\r\n    \r\n    const handlePagination = (url) => {\r\n        try{\r\n            axios.get(url)\r\n            .then((response) =>{\r\n                const temp = []\r\n                response.data.results.forEach(data => {\r\n                    temp.push({\r\n                        room_id: data.id,\r\n                        room_name: data.name,\r\n                        cover: data.image,\r\n                        category: data.category.name,\r\n                        city: data.house.city,\r\n                        district: data.house.district,\r\n                        ward: data.house.ward,\r\n                        totalPrice: data.totalPrice\r\n                    })\r\n                })\r\n                setData(temp)\r\n                setNextLink(response.data.next)\r\n                setPrevLink(response.data.previous)\r\n            })\r\n        }\r\n        catch(e){\r\n            console.log(e)\r\n        }\r\n    }\r\n  \r\n    return (\r\n        <section className={`${classes.recent} ${classes.padding}`}>\r\n            <div className={classes.container}>\r\n                <Heading title='Recent Property Listed' subtitle='Find new & featured property located in your local city.' />\r\n                <div className={`${classes.grid3} ${classes.mtop}`}>\r\n                    {data.map((item, index) => <RecentCard item={item} index={index}/>)}\r\n                </div>\r\n                <div className={classes.paginations}>\r\n                    {prevLink && <button className={classes.previous} onClick={()=>handlePagination(prevLink)}>Previous</button>}\r\n                    {nextLink && <button className={classes.next} onClick={()=>handlePagination(nextLink)}>Next</button>}\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Recent"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}